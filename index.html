<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DOOSH HUB</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="assets/logo.png" />
  <style>
    /* Neon Background */
    @keyframes neon {
      0% { box-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff, 0 0 30px #ff00ff; }
      50% { box-shadow: 0 0 20px #00ff00, 0 0 40px #00ff00, 0 0 60px #00ff00; }
      100% { box-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff, 0 0 30px #ff00ff; }
    }
    body {
      background: linear-gradient(to right, #00f260, #0575e6);
      background-size: 400% 400%;
      animation: neon 3s ease-in-out infinite;
      font-family: 'Roboto', sans-serif;
      overflow-x: hidden;
    }

    /* Dynamic Background Color */
    @keyframes changeBackground {
      0% { background-color: #00f260; }
      50% { background-color: #0575e6; }
      100% { background-color: #ff00ff; }
    }

    /* Apply dynamic background change */
    body {
      animation: changeBackground 10s infinite alternate;
    }

    /* Scrollable Navbar */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: 9999;
      transition: all 0.3s ease-in-out;
    }
    header.shrink {
      background: rgba(0, 0, 0, 0.9);
      padding: 10px;
    }

    /* Card Hover Effect */
    .anime-card {
      transition: all 0.3s ease;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
    .anime-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border: 2px solid #ff00ff;
    }

    .anime-card img {
      transition: transform 0.3s ease;
    }
    .anime-card:hover img {
      transform: scale(1.1);
    }

    /* Neon Text Animation */
    .neon-text {
      font-size: 2rem;
      color: #ff00ff;
      animation: neon-text 1.5s ease-in-out infinite alternate;
    }
    @keyframes neon-text {
      0% { color: #ff00ff; }
      50% { color: #00ff00; }
      100% { color: #ff00ff; }
    }

    /* Skeleton Loader */
    .skeleton {
      background-color: #333;
      border-radius: 8px;
      animation: shimmer 1.5s infinite linear;
    }
    .skeleton-card {
      width: 100%;
      height: 250px;
      margin-bottom: 20px;
    }
    .skeleton-text {
      width: 80%;
      height: 24px;
      margin-top: 10px;
    }
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }

    /* Smaller Ad Box */
    #adBox {
      position: fixed;
      bottom: 10px;
      right: 10px;
      width: 300px;
      background-color: #374151;
      padding: 12px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
      z-index: 1000;
      cursor: move;
      transition: opacity 0.5s ease;
      display: block;
    }

    #closeAd {
      position: absolute;
      top: 6px;
      right: 8px;
      background: transparent;
      border: none;
      color: white;
      font-size: 1.25rem;
      line-height: 1;
      cursor: pointer;
    }

    /* Ad Box Animation */
    .ad-box-animation {
      animation: bounce 2s ease-in-out infinite;
    }

    @keyframes bounce {
      0% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0); }
    }

    /* Scroll-to-Top Button */
    #scrollToTop {
      position: fixed;
      bottom: 10px;
      right: 10px;
      background-color: #ff00ff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 18px;
      display: none;
    }

    /* Welcome Message */
    .welcome-message {
      animation: welcomeAnimation 2s ease-in-out;
      text-align: center;
      margin-top: 100px;
      font-size: 3rem;
      color: #ff00ff;
    }

    @keyframes welcomeAnimation {
      0% { opacity: 0; transform: translateY(-30px); }
      100% { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body class="bg-gray-900 text-white font-sans overflow-x-hidden">

  <!-- Scroll-to-Top Button -->
  <button id="scrollToTop" onclick="scrollToTop()">↑</button>

  <!-- Header with Shrink on Scroll -->
  <header id="header" class="p-4 transition-all duration-300 ease-in-out">
    <img src="unnamed.png" alt="Doosh Hub Logo" class="w-12 h-12 inline-block" />
    <input type="text" id="search" placeholder="Search anime..." class="w-1/2 p-2 rounded bg-gray-700 text-white placeholder-gray-400" oninput="filterAnime()" />
  </header>

  <!-- Welcome Message -->
  <div class="welcome-message">
    Welcome to DOOSH HUB!
  </div>

  <!-- Carousel (auto generated) -->
  <section class="relative overflow-hidden p-4">
    <div id="carousel" class="flex space-x-4 transition-transform duration-700 ease-in-out"></div>
  </section>

  <!-- Anime List (Skeleton Loader) -->
  <main class="grid grid-cols-1 md:grid-cols-3 gap-6 p-6" id="animeList">
    <div class="skeleton skeleton-card"></div>
    <div class="skeleton skeleton-card"></div>
    <div class="skeleton skeleton-card"></div>
    <div class="skeleton skeleton-card"></div>
    <div class="skeleton skeleton-card"></div>
  </main>

  <!-- Ad Box -->
  <div id="adBox" class="ad-box-animation">
    <button id="closeAd" aria-label="Close ad">×</button>
    <div class="ad-slot active" id="ad1">
      <iframe src="https://www.profitableratecpm.com/n7eqkd8462?key=d1bf84aaada8c239b6538b9e4ff2781a" width="100%" height="90" frameborder="0" scrolling="no" allowfullscreen></iframe>
    </div>
    <div class="ad-slot" id="ad2">
      <script type="text/javascript">
        atOptions = {
          'key': '38c97041ba09133421880a5339a162a8',
          'format': 'iframe',
          'height': 90,
          'width': 300,
          'params': {}
        };
      </script>
      <script src="//www.highperformanceformat.com/38c97041ba09133421880a5339a162a8/invoke.js"></script>
    </div>
  </div>

  <!-- Anime Data (Automated) -->
  <script>
    // Anime Data
    const animeData = {
      "dragon-ball": {
        title: "Dragon Ball Prison Planet Full Movie",
        cover: "unnamed (4).jpg",
        link: "anime/dragon-ball.html"
      },
      "Shinchan The Legend of Ninja Mononoke (Hindi)": {
        title: "Shinchan The Legend of Ninja Mononoke (Hindi)",
        cover: "unnamed (1).jpg",
        link: "anime/Shinchan The Legend of Ninja Mononoke (Hindi).html"
      },
      "WIND BREAKER Season 2 in hindi": {
        title: "WIND BREAKER S02E01 1080",
        cover: "WIND BREAKER S2.jpg",
        link: "anime/WIND BREAKER S2.html"
      },
      "Tokyo Revengers season 1": {
        title: "Tokyo Revengers season 1",
        cover: "unnamed (2).jpg",
        link: "anime/Tokyo Revengers season 1.html"
      },
      "do patti": {
        title: "Do Patti Movie",
        cover: "Do-patti-(2024)-hindi-movie.jpg",
        link: "anime/do pati.html"
      },
      "FLIGHT 914 - Hollywood Action Movie ": {
        title: "FLIGHT 914 - Hollywood Action Movie ",
        cover: "get.jpg",
        link: "anime/FLIGHT 914 - Hollywood Action Movie Hindi  .html"
      }
    };

    // Load Anime Cards
    function loadAnimeCards() {
      const list = document.getElementById('animeList');
      list.innerHTML = '';
      Object.values(animeData).forEach(a => {
        const card = document.createElement('a');
        card.href = a.link;
        card.className = "anime-card bg-gray-800 rounded-lg shadow hover:shadow-lg p-4 block transition hover:bg-gray-700";
        card.innerHTML = `
          <img src="${a.cover}" alt="${a.title}" class="w-full h-40 object-cover rounded mb-2 shimmer">
          <h2 class="text-xl font-bold text-center">${a.title}</h2>`;
        list.appendChild(card);
      });
    }

    // Load Carousel Slides (auto generate)
    function loadCarousel() {
      const carousel = document.getElementById('carousel');
      carousel.innerHTML = '';
      Object.values(animeData).forEach(a => {
        const slide = document.createElement('a');
        slide.href = a.link;
        slide.className = "flex-shrink-0 w-64 h-40 rounded overflow-hidden shadow-md transition-transform transform hover:scale-105";
        slide.innerHTML = `<img src="${a.cover}" alt="${a.title}" class="w-full h-full object-cover shimmer" />`;
        carousel.appendChild(slide);
      });

      // Duplicate first slide for smooth infinite loop
      const firstClone = carousel.firstElementChild.cloneNode(true);
      carousel.appendChild(firstClone);
    }

    // Auto Slide
    let carouselIndex = 0;
    function autoSlide() {
      const carousel = document.getElementById('carousel');
      const items = document.querySelectorAll('#carousel a');
      const itemWidth = items[0].offsetWidth + 16; // width + margin
      carouselIndex++;
      carousel.style.transition = "transform 0.7s ease-in-out";
      carousel.style.transform = `translateX(-${carouselIndex * itemWidth}px)`;

      // Reset when last
      if (carouselIndex >= items.length - 1) {
        setTimeout(() => {
          carousel.style.transition = "none";
          carousel.style.transform = `translateX(0px)`;
          carouselIndex = 0;
        }, 700);
      }
    }

    setInterval(autoSlide, 3000); // every 3 seconds

    // Search Filter
    function filterAnime() {
      const q = document.getElementById('search').value.toLowerCase();
      document.querySelectorAll('#animeList a').forEach(card => {
        const title = card.querySelector('h2').innerText.toLowerCase();
        card.style.display = title.includes(q) ? 'block' : 'none';
      });
    }

    // Scroll to Top
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Show Scroll-to-Top Button on Scroll
    window.onscroll = function () {
      const scrollButton = document.getElementById('scrollToTop');
      if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
        scrollButton.style.display = "block";
      } else {
        scrollButton.style.display = "none";
      }
    };

    // Ad Rotation
    let currentAd = 1;
    setInterval(() => {
      document.querySelectorAll('.ad-slot').forEach(el => el.classList.remove('active'));
      currentAd = currentAd === 1 ? 2 : 1;
      document.getElementById(`ad${currentAd}`).classList.add('active');
    }, 10000);

    // Initial Load
    window.onload = function() {
      loadCarousel();
      setTimeout(loadAnimeCards, 1500);  // Load after skeleton loader timeout
    }
  </script>

</body>
</html>